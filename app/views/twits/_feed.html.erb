<% if user_signed_in? %>
<div class="card mb-2">
  <div class="card-body">
    <%= render 'twits/form' %>
  </div>
</div>
<% end %>

<% @twits.each do | twit | %>
  <article class="card shadow-sm mb-2">
    <div class="card-body d-flex">
      <figure class="mb-0 mr-2">
        <%= gravatar_image_tag(twit.user.email, size: 32, alt: twit.user.name, class: "rounded-circle av-48") %>
      </figure>
      <div class="">
        <p class="mb-0 fs-15 fw-bold">
          <%= twit.user.name %>&nbsp;<span class="fw-light">|</span>
          <small class="text-secondary">@<%= twit.user.username %></small>
        </p>
        <p class="mb-0"><%= twit.body %></p>
      </div>
    </div>
    <% if user_signed_in? && current_user == twit.user %>
    <div class="card-footer">
      <%= link_to twit, class: "link-secondary text-decoration-none" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="link-secondary bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
          <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"/>
        </svg>
      <% end %>
      <%= link_to edit_twit_path(twit), class: "link-secondary text-decoration-none mx-3" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen-fill" viewBox="0 0 16 16">
          <path d="M13.498.795l.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
        </svg>
      <% end %>
      <%= link_to twit, method: :delete, data: { confirm: 'Are you sure?' }, class: "link-danger text-decoration-none" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
          <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
        </svg>
      <% end %>
    </div>
    <% end %>
  </article>
<% end %>
